<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>2024 March | Docs</title><meta name="description" content="From the common artisan.">
    <link rel="preload" href="/docs/assets/style-CL10vn5a.css" as="style"><link rel="stylesheet" href="/docs/assets/style-CL10vn5a.css">
    <link rel="modulepreload" href="/docs/assets/app-CZArcxI1.js"><link rel="modulepreload" href="/docs/assets/24-3-march.html-2NazuRXf.js">
    <link rel="prefetch" href="/docs/assets/get-started.html-lOCu4Azy.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-DjEnN9go.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-BM8aNj8t.js" as="script"><link rel="prefetch" href="/docs/assets/backlog.html-DCBMy6x-.js" as="script"><link rel="prefetch" href="/docs/assets/family.html-nuLDFa8t.js" as="script"><link rel="prefetch" href="/docs/assets/finance.html-WVhtL2bD.js" as="script"><link rel="prefetch" href="/docs/assets/general-career.html-Cagt4fxT.js" as="script"><link rel="prefetch" href="/docs/assets/growth.html-D4y5SNiq.js" as="script"><link rel="prefetch" href="/docs/assets/operations.html-CmnVAfPW.js" as="script"><link rel="prefetch" href="/docs/assets/other.html-BjANsSiZ.js" as="script"><link rel="prefetch" href="/docs/assets/principles.html-Ctl1CCmj.js" as="script"><link rel="prefetch" href="/docs/assets/software.html-C-OYit20.js" as="script"><link rel="prefetch" href="/docs/assets/stay-out-trouble.html-oMgaXOJ1.js" as="script"><link rel="prefetch" href="/docs/assets/work.html-BuPFmPgZ.js" as="script"><link rel="prefetch" href="/docs/assets/24-1-jan.html-DIFPwTTT.js" as="script"><link rel="prefetch" href="/docs/assets/24-2-feb.html-WTUqfmC5.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-BD9rUgXl.js" as="script"><link rel="prefetch" href="/docs/assets/backlog.html-NTbGkp25.js" as="script"><link rel="prefetch" href="/docs/assets/introduction.html-CPpp1-eo.js" as="script"><link rel="prefetch" href="/docs/assets/panda-plus.html-Dl6gY1ZF.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-CelyCobc.js" as="script"><link rel="prefetch" href="/docs/assets/slc-website.html-lpnuGg03.js" as="script"><link rel="prefetch" href="/docs/assets/introduction.html-CsBqZ2Vs.js" as="script"><link rel="prefetch" href="/docs/assets/software-obsolete.html-DwcKXYOd.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-CqrTBA6I.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-BP3zf-pp.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Cr4W_6RS.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-B9f8MFa3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-jJF4lQfj.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-yNwGgj_2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/docs/"><img class="logo" src="https://avatars.githubusercontent.com/u/29577570?v=4" alt="Docs"><span class="site-name can-hide" aria-hidden="true">Docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/docs/category/" aria-label="Category"><!--[--><!--]--> Category <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/docs/category/" aria-label="Category"><!--[--><!--]--> Category <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">2024 March <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#_5-tuesday" aria-label="5 Tuesday"><!--[--><!--]--> 5 Tuesday <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#some-notes-regarding-the-idea-of-dev-and-how-to-enforce-such" aria-label="Some notes regarding the idea of dev. And how to enforce such:"><!--[--><!--]--> Some notes regarding the idea of dev. And how to enforce such: <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/docs/#_7-thursday" aria-label="7 Thursday"><!--[--><!--]--> 7 Thursday <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#where-is-the-error" aria-label="Where is the error?"><!--[--><!--]--> Where is the error? <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/docs/#_8-friday" aria-label="8 Friday"><!--[--><!--]--> 8 Friday <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#_8-1-allowing-errors-report-to-be-also-on-the-end-message" aria-label="8.1 Allowing Errors Report to be also on the end message."><!--[--><!--]--> 8.1 Allowing Errors Report to be also on the end message. <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_8-2-adding-design-considerations" aria-label="8.2 Adding Design Considerations"><!--[--><!--]--> 8.2 Adding Design Considerations <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_8-6-continue-working-first-on-the-data-science-project-get-started-with-it" aria-label="8.6 Continue working first on the Data Science Project: Get started with it!"><!--[--><!--]--> 8.6 Continue working first on the Data Science Project: Get started with it! <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/docs/#_12-tuesday" aria-label="12 Tuesday"><!--[--><!--]--> 12 Tuesday <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#_12-todo" aria-label="12.todo"><!--[--><!--]--> 12.todo <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_12-1-create-mockup-cards" aria-label="12.1 Create Mockup Cards"><!--[--><!--]--> 12.1 Create Mockup Cards <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_12-2-continue-working-on-chrome-extension" aria-label="12.2 Continue Working On Chrome Extension"><!--[--><!--]--> 12.2 Continue Working On Chrome Extension <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_12-3-checking-antonio-s-latest-release" aria-label="12.3 Checking Antonio&#39;s latest release."><!--[--><!--]--> 12.3 Checking Antonio&#39;s latest release. <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_12-4-auth0" aria-label="12.4 Auth0"><!--[--><!--]--> 12.4 Auth0 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#chrome-instance-id" aria-label="Chrome Instance ID"><!--[--><!--]--> Chrome Instance ID <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/docs/#_14-thursday" aria-label="14 Thursday"><!--[--><!--]--> 14 Thursday <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#_14-todo" aria-label="14.todo"><!--[--><!--]--> 14.todo <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_14-1-fixing-the-issue-with-the-local-timeslot" aria-label="14.1 Fixing the Issue with the Local Timeslot"><!--[--><!--]--> 14.1 Fixing the Issue with the Local Timeslot <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/docs/#_15-friday" aria-label="15 Friday"><!--[--><!--]--> 15 Friday <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/docs/#_15-todo" aria-label="15.todo"><!--[--><!--]--> 15.todo <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_15-1-continue-working-on-chrome-extension" aria-label="15.1 Continue Working On Chrome Extension"><!--[--><!--]--> 15.1 Continue Working On Chrome Extension <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/docs/#_16-saturday" aria-label="16 Saturday"><!--[--><!--]--> 16 Saturday <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/docs/#_17-friday" aria-label="17 Friday"><!--[--><!--]--> 17 Friday <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="_5-tuesday" tabindex="-1"><a class="header-anchor" href="#_5-tuesday"><span>5 Tuesday</span></a></h2><h3 id="some-notes-regarding-the-idea-of-dev-and-how-to-enforce-such" tabindex="-1"><a class="header-anchor" href="#some-notes-regarding-the-idea-of-dev-and-how-to-enforce-such"><span>Some notes regarding the idea of dev. And how to enforce such:</span></a></h3><ul><li>48 Hours policy for all getbacks. 24 Hours Policy for sms replies.</li></ul><p>With this type of policy you should be able to keep up with work.</p><ul><li>In New York locations allow also: Visits and Monthly Photoshoot Sessions to keep Media upkeep.</li></ul><p>How to enforce such? Using the Focusmate strategy and just blocking the hours expected during the week immediatelly upon having a task received.</p><p>Also how do you keep track of clients?</p><p>How about the hours credit proposal?</p><p>Wait how am I handling the Interactions again? Does it make sense to hae the event start and end, and not keep track of all interactions? My guess is that I can avoid creating the timeslots. And if the end one (The latest one records everyting as expected)</p><h2 id="_7-thursday" tabindex="-1"><a class="header-anchor" href="#_7-thursday"><span>7 Thursday</span></a></h2><h3 id="where-is-the-error" tabindex="-1"><a class="header-anchor" href="#where-is-the-error"><span>Where is the error?</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>Processing ID fetched: <span class="token punctuation">[</span><span class="token number">246</span><span class="token punctuation">]</span>
Processing Status Changed to: PROCESSING
Processing Started for: 6c9a5500-00f0-4a26-a1b6-efd5c7eba828
ERROR:ERROR: current transaction is aborted, commands ignored <span class="token keyword">until</span> end of transaction block
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This occurs before:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ConnectorBasedIntegrationAdapter</span><span class="token punctuation">(</span>IntegrationDataAdapter<span class="token punctuation">)</span><span class="token punctuation">:</span>
    integration_name <span class="token operator">=</span> <span class="token string">&#39;connector_based_adapter&#39;</span>
    <span class="token keyword">def</span> <span class="token function">retrieveOrganizationData</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> jobService<span class="token punctuation">:</span> JobService<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">dict</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        Retrieves in the following format:
        Since the same user is guaranteed for this entire data cluster. Expect only a single requirement.
        {
            organization_guid: str,
            organization_id: int,
            timezone: str,
            user_id: int
        }
        &quot;&quot;&quot;</span>
        
        cursor <span class="token operator">=</span> jobService<span class="token punctuation">.</span>cursor
        res <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;organization_guid&quot;</span><span class="token punctuation">:</span> jobService<span class="token punctuation">.</span>organization_guid<span class="token punctuation">,</span>

        <span class="token punctuation">}</span> <span class="token comment"># nod to leetcode xd</span>


        
        <span class="token comment"># Retrieve organization_id </span>
        cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
            <span class="token string-interpolation"><span class="token string">f&quot;SELECT id FROM organization WHERE guid = &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>jobService<span class="token punctuation">.</span>organization_guid<span class="token punctuation">}</span></span><span class="token string">&#39;&quot;</span></span>
        <span class="token punctuation">)</span>
        cursor_response_organization <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Organization data found for connector:&#39;</span><span class="token punctuation">,</span> cursor_response_organization<span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token keyword">not</span> cursor_response_organization<span class="token punctuation">:</span>
            jobService<span class="token punctuation">.</span>addLogMessage<span class="token punctuation">(</span>
                log_message<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f&quot;Organization not found in the database. from organization </span><span class="token interpolation"><span class="token punctuation">{</span>jobService<span class="token punctuation">.</span>organization_guid<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span>
                log_detail<span class="token operator">=</span>&quot;Organization <span class="token keyword">not</span> found <span class="token keyword">in</span> the database<span class="token punctuation">.</span> <span class="token keyword">from</span> organization <span class="token punctuation">{</span>jobService<span class="token punctuation">.</span>organization_guid<span class="token punctuation">}</span>\n\
                    using integration_name <span class="token punctuation">{</span>self<span class="token punctuation">.</span>integration_name<span class="token punctuation">}</span> <span class="token keyword">and</span> organization_guid <span class="token punctuation">{</span>jobService<span class="token punctuation">.</span>organization_guid<span class="token punctuation">}</span>&quot;<span class="token punctuation">,</span>
                log_type<span class="token operator">=</span><span class="token string">&quot;Error&quot;</span>
                <span class="token punctuation">)</span>
            <span class="token comment"># This should be a breaking error</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;Organization not found in the database.&quot;</span><span class="token punctuation">)</span>
        
        res<span class="token punctuation">[</span><span class="token string">&quot;organization_id&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> cursor_response_organization<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

        <span class="token comment"># Check for the user_id where connector is X</span>
        cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
            <span class="token string-interpolation"><span class="token string">f&quot;SELECT c.user_id, u.timezone FROM connector AS c JOIN users AS u ON u.id = c.user_id WHERE c.guid = &#39;</span><span class="token interpolation"><span class="token punctuation">{</span>jobService<span class="token punctuation">.</span>connector_guid<span class="token punctuation">}</span></span><span class="token string">&#39;;&quot;</span></span>
        <span class="token punctuation">)</span>
        cursor_response <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-friday" tabindex="-1"><a class="header-anchor" href="#_8-friday"><span>8 Friday</span></a></h2><ul><li>[x] 8.1 Allowing Errors Report to be also on the end message.</li><li>[x] 8.2 Add some design considerations</li><li>[x] 8.3 Deploy a Staging Equivalent? (This is required first for the migration of data models to be run first.)</li><li>[x] 8.4 Update Model&#39;s username to be included.</li><li>[x] 8.5 Send the correct model and the right snapshot.</li><li>[x] 8.6 Continue working first on the Data Science Project: Get started with it!</li><li>[x] 8.7 Fix Nancy Site, issue with the images.</li><li>[x] 8.8 Drafting a General Business Proposal as for how the business works.</li><li>[x] 8.12 Work on Music Assignment</li><li>[x] 8.13 Work on IOS App Dev Assignment.</li><li>[x] 8.9 Drafting a simple logistics way to have the pricing for each feature and estimated rates for different common services.</li><li>[x] 8.10 Draft a way to logically divide distinct work.</li><li>[x] 8.11 Add that feature to your website (Anvil Tech).</li></ul><h3 id="_8-1-allowing-errors-report-to-be-also-on-the-end-message" tabindex="-1"><a class="header-anchor" href="#_8-1-allowing-errors-report-to-be-also-on-the-end-message"><span>8.1 Allowing Errors Report to be also on the end message.</span></a></h3><p>It looks as if the error report does indeed make sense.</p><h3 id="_8-2-adding-design-considerations" tabindex="-1"><a class="header-anchor" href="#_8-2-adding-design-considerations"><span>8.2 Adding Design Considerations</span></a></h3><ul><li>models <code>username</code></li><li>Update layout screens with the ts1, etc. configurations</li></ul><h3 id="_8-6-continue-working-first-on-the-data-science-project-get-started-with-it" tabindex="-1"><a class="header-anchor" href="#_8-6-continue-working-first-on-the-data-science-project-get-started-with-it"><span>8.6 Continue working first on the Data Science Project: Get started with it!</span></a></h3><ul><li>[x] Show the data</li><li>[x] Work on Showing the basics of the dataset illustrating the distributions?</li></ul><h2 id="_12-tuesday" tabindex="-1"><a class="header-anchor" href="#_12-tuesday"><span>12 Tuesday</span></a></h2><h3 id="_12-todo" tabindex="-1"><a class="header-anchor" href="#_12-todo"><span>12.todo</span></a></h3><ul><li>[x] 12.1 Create Mockup Cards <ul><li>[x] Document the Creation of mockup cards</li></ul></li><li>[ ] 12.2 Chrome Extension</li><li>[x] 12.3 Checking Antonio&#39;s Latest Release</li><li>[ ] 12.4 Exploring Future Cookbook integrations (Soon) regex, sql, react <ul><li>[ ] Second tier: Math, Stats, Discrete (From the practice book)</li></ul></li></ul><h3 id="_12-1-create-mockup-cards" tabindex="-1"><a class="header-anchor" href="#_12-1-create-mockup-cards"><span>12.1 Create Mockup Cards</span></a></h3><ul><li><p>[x] Document the creation of Mockup Cards</p></li><li><p>Ensure new model related to suer is documented in summary:</p></li></ul><p>newest changes:</p><ul><li><p>Added username</p></li><li><p>[x] Feature Request?</p></li></ul><h3 id="_12-2-continue-working-on-chrome-extension" tabindex="-1"><a class="header-anchor" href="#_12-2-continue-working-on-chrome-extension"><span>12.2 Continue Working On Chrome Extension</span></a></h3><ul><li>[x] Modify Link to update to newest endpoint. <a href="https://in.api.loading.win/dev/incoming" title="https://in.api.loading.win/dev/incoming" target="_blank" rel="noopener noreferrer">https://in.api.loading.win/dev/incoming<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] Update Chrome documentation to reflect recent changes.</li><li>[ ] Changing body to suit latest staging event structure.</li><li>[ ] Use Chrome Connector Credential Associated.</li><li>[ ] Update to 1 minute instead of whatever it is right now.</li></ul><h3 id="_12-3-checking-antonio-s-latest-release" tabindex="-1"><a class="header-anchor" href="#_12-3-checking-antonio-s-latest-release"><span>12.3 Checking Antonio&#39;s latest release.</span></a></h3><p>Make sure to check the following is working properly:</p><ul><li>[x] Does it send events correctly?</li></ul><blockquote><p>Lets explore the tracking?</p></blockquote><p><img src="/docs/assets/Pasted image 20240312112552-De5W2zzd.png" alt=""></p><p>It doesn&#39;t seem to be sending events that are being accepted</p><blockquote><p>is it sending towards <code>localhost</code>?</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token preprocessor property">#<span class="token directive keyword">if</span> false    </span>
                <span class="token comment">// SettingsService.SetRestApiEndpoint(&quot;http://localhost:3000/staging_events&quot;);</span>
                SettingsService<span class="token punctuation">.</span><span class="token function">SetRestApiEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;http://stage.api.loading.win/staging_events&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#<span class="token directive keyword">else</span></span>
                SettingsService<span class="token punctuation">.</span><span class="token function">SetRestApiEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;https://in.api.loading.win/dev/incoming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#<span class="token directive keyword">endif</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Doesn&#39;t seem to, not the <code>false</code></p><blockquote><p>Let&#39;s see what happens on the Lambda logs + Dynamo for any error logs.</p></blockquote><p><img src="/docs/assets/Pasted image 20240312112450-DkvuOi37.png" alt=""></p><p>We can see here that it all matches:</p><p>![[../../../img/Pasted image 20240312111010.png]]</p><p>And the connector is matching</p><blockquote><p>Checking for error marked in dynamo table?</p></blockquote><p><img src="/docs/assets/Pasted image 20240312112501-DOsGRc-x.png" alt=""></p><p>Can be seen that no <code>total_errors</code> neither <code>total_connects</code> were updated, is this because the lambda didn&#39;t implement it?</p><h4 id="talking-to-fix-the-dev-code" tabindex="-1"><a class="header-anchor" href="#talking-to-fix-the-dev-code"><span>Talking to fix the Dev code:</span></a></h4><p><img src="/docs/assets/Pasted image 20240312131849-YqiJy8ec.png" alt=""></p><blockquote><p>Seems that Anthony didn&#39;t push the last version:</p></blockquote><p><img src="/docs/assets/Pasted image 20240312132008-DTgDFkuH.png" alt=""> Fixed.</p><blockquote><p>When sending to in.api:</p></blockquote><p><img src="/docs/assets/Pasted image 20240312131813-Qyz6C7Pu.png" alt=""></p><p>However doesn&#39;t seem to be inserting the right values.</p><blockquote><p>Does it post locally?</p></blockquote><p><img src="/docs/assets/Pasted image 20240312132135-CdAhIKSR.png" alt=""></p><p>Yes, The fields also looks correct</p><blockquote><p>So lets see if the problem is in the cloud:</p></blockquote><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  guid<span class="token operator">:</span> &#39;4572d2c4<span class="token number">-973e-4796</span><span class="token number">-9015</span>-44236457fcbc&#39;<span class="token punctuation">,</span>
  date<span class="token operator">:</span> &#39;<span class="token number">2024</span><span class="token number">-03</span>-12T17<span class="token operator">:</span><span class="token number">05</span><span class="token operator">:</span><span class="token number">33</span>.5990383Z&#39;<span class="token punctuation">,</span>
  connector<span class="token operator">:</span> &#39;4c374db5<span class="token number">-8e37</span>-428e-b988-92ce9879165b&#39;<span class="token punctuation">,</span>
  version<span class="token operator">:</span> &#39;<span class="token number">1.0</span>&#39;<span class="token punctuation">,</span>
  organization<span class="token operator">:</span> &#39;0238bfa6-2a89-42fe-8a67-fde4c80391ea&#39;<span class="token punctuation">,</span>
  signature_1<span class="token operator">:</span> &#39;884493dcf2f03089f9c63b196808b0fd5300db0e9887783da94223c4ca4ab1c6&#39;<span class="token punctuation">,</span>
  signature_2<span class="token operator">:</span> &#39;a248fe59218c37ea2a841ec57a76fd8d43e0693a8ef34f5115c51ade1f0d03b4&#39;<span class="token punctuation">,</span>
  details<span class="token operator">:</span> <span class="token punctuation">[</span>
    &#39;<span class="token punctuation">{</span><span class="token property">&quot;event_date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2024-03-12T15:40:50.601812Z&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;event_end_date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2024-03-12T15:40:52.0441286Z&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;window_title&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;explorer&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;span_guid&quot;</span><span class="token operator">:</span><span class="token string">&quot;a88c04b7-0f54-440c-bc13-982b9be4cad8&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span><span class="token property">&quot;keypresses&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;mouseclicks&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;windows_pid&quot;</span><span class="token operator">:</span><span class="token string">&quot;6724&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;guid&quot;</span><span class="token operator">:</span><span class="token string">&quot;483849fe-8a29-4a15-ae3e-d37a24f24db5&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;event_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;WIN_APP_ACTIVE&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;actor&quot;</span><span class="token operator">:</span><span class="token string">&quot;AzureAD\\\\NelsonWang&quot;</span><span class="token punctuation">}</span>&#39;<span class="token punctuation">,</span>
    &#39;<span class="token punctuation">{</span><span class="token property">&quot;event_date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2024-03-12T15:40:52.0603322Z&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;event_end_date&quot;</span><span class="token operator">:</span><span class="token string">&quot;0001-01-01T00:00:00&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;window_title&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;explorer&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;span_guid&quot;</span><span class="token operator">:</span><span class="token string">&quot;e59fcf70-e84b-470d-823e-69ab062e9714&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span><span class="token property">&quot;keypresses&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;mouseclicks&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;windows_pid&quot;</span><span class="token operator">:</span><span class="token string">&quot;6724&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;guid&quot;</span><span class="token operator">:</span><span class="token string">&quot;a29d1293-d7ed-468e-a74d-00709f02f69c&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;event_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;WIN_APP_ACTIVE&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;actor&quot;</span><span class="token operator">:</span><span class="token string">&quot;AzureAD\\\\NelsonWang&quot;</span><span class="token punctuation">}</span>&#39;
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are more events, but I am hiding them.</p><p>So lets review postman: <img src="/docs/assets/Pasted image 20240312133334-L7YI5hqa.png" alt=""></p><p>There were no logs in the CloudWatch</p><p>But if I use the old link: <img src="/docs/assets/Pasted image 20240312133433-BEMbmrWu.png" alt=""></p><p>Does that even make sense? They are pointing to the same lambda in the end. But in this case I am at least getting some logs: <img src="/docs/assets/Pasted image 20240312133513-CDxQQMRc.png" alt=""></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">2024</span>-03-12T13:14:53.373-04:00

<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Runtime.UserCodeSyntaxError: Syntax error <span class="token keyword">in</span> module <span class="token string">&#39;lambda_function&#39;</span><span class="token builtin class-name">:</span> invalid syntax. Perhaps you forgot a comma? <span class="token punctuation">(</span>lambda_function.py, line <span class="token number">110</span><span class="token punctuation">)</span>  
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:  
  File <span class="token string">&quot;/var/task/lambda_function.py&quot;</span> Line <span class="token number">110</span>  
                <span class="token string">&#39;organization&#39;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It was missing a comma:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
            <span class="token string">&#39;organization&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&#39;DataType&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;String&#39;</span><span class="token punctuation">,</span>
                <span class="token string">&#39;StringValue&#39;</span><span class="token punctuation">:</span> d<span class="token punctuation">[</span><span class="token string">&#39;organization&#39;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token string">&#39;connector&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&#39;DataType&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;String&#39;</span><span class="token punctuation">,</span>
                <span class="token string">&#39;StringValue&#39;</span><span class="token punctuation">:</span> d<span class="token punctuation">[</span><span class="token string">&#39;connector&#39;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Fixed to:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>
            &#39;organization&#39;: {
                &#39;DataType&#39;: &#39;String&#39;,
                &#39;StringValue&#39;: d[&#39;organization&#39;]
            },
            &#39;connector&#39;: {
                &#39;DataType&#39;: &#39;String&#39;,
                &#39;StringValue&#39;: d[&#39;connector&#39;]
            },
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Lets deploy and test:</p><p>Fixed: <img src="/docs/assets/Pasted image 20240312133752-DqvBpK0M.png" alt=""></p><p>??</p><p><img src="/docs/assets/Pasted image 20240312133809-Cqbr5dH-.png" alt=""> Not fixed on in.api...</p><p>After searching: https://stackoverflow.com/questions/57168148/unable-to-resolve-not-a-valid-key-value-pair-missing-equal-sign-in-authoriza</p><blockquote><p><a href="https://stackoverflow.com/posts/57172027/timeline" target="_blank" rel="noopener noreferrer"><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> I resolved it. I changed my method to come from the root resource (instead of the unnecessary {proxy+}, and also noticed that my python method was incorrect. I had <code>response = requests.post(url, headers=headers, data=my_json)</code>, but data only accepts a string. I have to use either <code>requests.post(url, headers=headers, json=my_json)</code> or <code>requests.post(url, headers=headers,data=json.dumps(my_json))</code></p></blockquote><p>Lets make a temporary fix and make a note for it:</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token preprocessor property">#<span class="token directive keyword">if</span> </span><span class="token return-type class-name">false</span>
                SettingsService<span class="token punctuation">.</span><span class="token function">SetRestApiEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:3000/staging_events&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#<span class="token directive keyword">else</span></span>
                <span class="token comment">// SettingsService.SetRestApiEndpoint(&quot;https://in.api.loading.win/dev/incoming&quot;);</span>
                SettingsService<span class="token punctuation">.</span><span class="token function">SetRestApiEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;https://c27bsii3c1.execute-api.us-east-1.amazonaws.com/dev/incoming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#<span class="token directive keyword">endif</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/docs/assets/Pasted image 20240312134958-BrycEkE6.png" alt=""> One windows log is being processed at least.</p><ul><li>[x] How about if a user is active in a site for more than 1 minute?</li><li>[x] How about Admin install permissions?</li></ul><p><img src="/docs/assets/Pasted image 20240312135113-NW0c6XMs.png" alt=""></p><h4 id="inspecting-the-staging-event" tabindex="-1"><a class="header-anchor" href="#inspecting-the-staging-event"><span>Inspecting the Staging Event</span></a></h4><p><img src="/docs/assets/Pasted image 20240312135318-GGUOmREp.png" alt=""></p><p>You can see here there is an issue or potential issue. Is details being sent as a string for each row?</p><p>Lets check the S3</p><p>Hm, not event accepting it huh?</p><p>Only this was sent that is correct:</p><p><img src="/docs/assets/Pasted image 20240312135602-ClQCUsxY.png" alt=""></p><p>And as seen on sql query figure, there is only one event being processed, which means most sent here fail:</p><p>Lets log in <code>staging_events</code> local. and save it into json</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;body-parser&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  

<span class="token comment">// Middleware to parse JSON bodies</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  

<span class="token comment">// Define the POST route for staging_events</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/staging_events&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Received message:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;----------------------------------------------------------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Save as new event.json</span>

  <span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&#39;event.json&#39;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Saved!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// You can process the event here as needed</span>

  

  <span class="token comment">// Send a response back to the client</span>

  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Event received&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  

<span class="token comment">// Start the server</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Server started on port 3000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That logs the follwoing:</p><p><img src="/docs/assets/Pasted image 20240312141020-CG8lajnd.png" alt=""></p><ul><li>You can see that this is a string. Which wont sent any issues:</li></ul><p><img src="/docs/assets/Pasted image 20240312141107-BroU3lkv.png" alt=""></p><p>It does get saved here using Postman, but then, why it wasn&#39;t being saved before?:</p><p><img src="/docs/assets/Pasted image 20240312141221-DJf_k7kK.png" alt=""></p><p>So lets try sending events to windows. Most likely it doesn&#39;t support even fetching it.</p><blockquote><p>Does Cloudwatch complain anything useful?</p></blockquote><p>Therefore Option 2 Should be set to run:</p><blockquote><p>Make Lambda resilient by Allowing None.</p></blockquote><p>Here</p><p><img src="/docs/assets/Pasted image 20240312141904-BrHv0e0w.png" alt=""></p><p>Here a fairly recent error mentioning the following:</p><p>2024-03-12T14:17:28.805-04:00</p><p>[ERROR] KeyError: &#39;User-Agent&#39;<br> Traceback (most recent call last):<br>   File &quot;/var/task/lambda_function.py&quot;, line 74, in lambda_handler<br>     request_data[&quot;user_agent&quot;] = event[&#39;headers&#39;][&#39;User-Agent&#39;]</p><p>Oh look:</p><p><img src="/docs/assets/Pasted image 20240312142027-BeNWA1t4.png" alt=""></p><p>User-agent is probably not being set at Windows</p><blockquote><p>Temporary fix making User-Agent: NelsonRuntime</p></blockquote><p>Look at that! We can&#39;t force it:</p><p><img src="/docs/assets/Pasted image 20240312142443-Bl3cfUKx.png" alt=""></p><blockquote><p>Lets make it null safe instead</p></blockquote><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>request_data<span class="token punctuation">[</span><span class="token string">&quot;user_agent&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> event<span class="token punctuation">[</span><span class="token string">&#39;headers&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;User-Agent&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment"># None Safe</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Logs look healthy</p><p><img src="/docs/assets/Pasted image 20240312145245-C-nj7-SS.png" alt=""></p><p><img src="/docs/assets/Pasted image 20240312145422-BA3EY5p9.png" alt=""></p><p>Looks healthy (except because of the known error of the strings.)</p><h4 id="fix-notes" tabindex="-1"><a class="header-anchor" href="#fix-notes"><span>Fix notes:</span></a></h4><ul><li>Is saving detail events as a string</li><li>I don&#39;t think is posting it correctly to the endpoint (as can be seen that the postman just works fine while but when we are depending on ) <ul><li>The error doesn&#39;t seem to be on the body.</li><li>It seems that it is because in Headers User-Agent should be set.</li><li>Solutions: we could either make Lambda more resilient by allowing no user-agent set.</li><li>Force all connectors to use User Agent</li><li>Or do both. (At least force it in Windows.)</li></ul></li></ul><h3 id="_12-4-auth0" tabindex="-1"><a class="header-anchor" href="#_12-4-auth0"><span>12.4 Auth0</span></a></h3><p>https://manage.auth0.com/dashboard/us/dev-vobjs07lab7w5wgx/apis</p><p>Api Audience: https://dev-vobjs07lab7w5wgx.us.auth0.com/api/v2/</p><ul><li>[ ] Plan some ideas regarding discussions with Ashraf into how to integrate the userbase.</li></ul><p>https://developer.chrome.com/docs/extensions/reference/api/enterprise/deviceAttributes !! <strong>Important:</strong> This API works <strong>only on ChromeOS</strong>.</p><p>Is this the same for Force Install?</p><p>Here Some <a href="https://developer.chrome.com/docs/extensions/reference/api/enterprise/deviceAttributes" target="_blank" rel="noopener noreferrer">promising attributes<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>:</p><p>! But they only work for Chrome OS.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>chrome.enterprise.deviceAttributes.getDeviceHostname(  callback?: function,  
)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>chrome.enterprise.deviceAttributes.getDeviceSerialNumber(  callback?: function,  
)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>chrome.enterprise.deviceAttributes.getDeviceAssetId(  callback?: function,  
)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Fetches the administrator-annotated Asset Id. If the current user is not affiliated or no Asset Id has been set by the administrator, returns an empty string.</p><p><strong>Looking at Identity</strong></p><p>Fetches the administrator-annotated Asset Id. If the current user is not affiliated or no Asset Id has been set by the administrator, returns an empty string.</p><ul><li>These are all related to the user Logged Identity</li></ul><h3 id="chrome-instance-id" tabindex="-1"><a class="header-anchor" href="#chrome-instance-id"><span>Chrome Instance ID</span></a></h3><p>Use <code>chrome.instanceID</code> to access the Instance ID service.</p><blockquote><p>Instance ID provides a unique ID per instance of your apps. You can implement Instance ID for <a href="https://developers.google.com/instance-id/guides/android-implementation" target="_blank" rel="noopener noreferrer">Android<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://developers.google.com/instance-id/guides/ios-implementation" target="_blank" rel="noopener noreferrer">iOS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> apps as well as <a href="https://developer.chrome.com/apps/instanceID" target="_blank" rel="noopener noreferrer">Chrome apps/extensions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></blockquote><p>Pass Instance ID tokens to your server and use the Instance ID service to verify the app package name and check if it has a valid signature. Verifying tokens with the Instance ID Cloud Service helps identify known apps. To reduce cost and redundant round trip communications, configure your server to store these tokens so the check is needed only once. In the event of a security concern, your app can delete tokens, or Instance ID itself, and generate new ones. In addition, the Instance ID server initiates token or Instance ID refresh if it detects bugs or security issues.</p><p>Search Scope Hypothesis:</p><ul><li><p>If it exists is an enterprise feature</p></li><li><p>Wouldn&#39;t make sense for Chrome to somehow detect your unique pc id.</p></li><li><p>Neither to have an identifier of your laptop unless is a Chromebook.</p></li><li><p>You need to fix that SLC site thing.</p></li><li><p>You need to allow option for Local Edit.</p></li><li><p>You need to allow option to eras images in favor of local edit? How about images? I am not sure neither.</p></li></ul><p>Negotiations</p><ul><li>What are we offering to clubs? <ul><li>Enhancing club members experience</li><li>Allow Users the option to opt out and anonymously share their transaction data for product improvement/feedback and personal report.</li><li>Offer API and Dataset and Customers Data</li><li>Data and Data Historical Data Inference Course and Talks</li><li>Build Relations with Investment Clubs (Starting from CUNY and immediate NYC Schools)</li><li>Instant access to our private network of industry connections.</li></ul></li><li>Making an offer they cant afford to lose.</li><li>Why build customer relationships?</li><li>Being able to market locally in person is a huge advantage. And me and Armando are graduating this semester which means no more in campus advantage. Building relationships with Clubs, will however allow us to bypass our school timeframe, and as long as these clubs exists we have word to word marketing done by someone else.</li><li>As long as any of these two products have some success, we can retarget the same audience with the interviewing tool.</li></ul><h2 id="_14-thursday" tabindex="-1"><a class="header-anchor" href="#_14-thursday"><span>14 Thursday</span></a></h2><h3 id="_14-todo" tabindex="-1"><a class="header-anchor" href="#_14-todo"><span>14.todo</span></a></h3><h3 id="_14-1-fixing-the-issue-with-the-local-timeslot" tabindex="-1"><a class="header-anchor" href="#_14-1-fixing-the-issue-with-the-local-timeslot"><span>14.1 Fixing the Issue with the Local Timeslot</span></a></h3><blockquote><p>Why is <code>timestamp_local</code> the same as timestamp after processing?</p></blockquote><p>![[Pasted image 20240314110612.png]]</p><p>How is this even possible?</p><p>This part is correct:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>  

        events_list<span class="token punctuation">:</span> List<span class="token punctuation">[</span>Event<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        timeslots_lists<span class="token punctuation">:</span> List<span class="token punctuation">[</span>Timeslot<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  

        <span class="token keyword">for</span> eventData <span class="token keyword">in</span> eventDataList<span class="token punctuation">:</span>

            event<span class="token punctuation">:</span> Event <span class="token operator">=</span> Event<span class="token punctuation">(</span>

                guid <span class="token operator">=</span> eventData<span class="token punctuation">.</span>event_guid<span class="token punctuation">,</span>
                organization_guid <span class="token operator">=</span> eventData<span class="token punctuation">.</span>organization_guid<span class="token punctuation">,</span>
                organization_id <span class="token operator">=</span> eventData<span class="token punctuation">.</span>organization_id<span class="token punctuation">,</span>
                user_id <span class="token operator">=</span> eventData<span class="token punctuation">.</span>user_id<span class="token punctuation">,</span>
                application <span class="token operator">=</span> eventData<span class="token punctuation">.</span>application<span class="token punctuation">,</span>
                app <span class="token operator">=</span> eventData<span class="token punctuation">.</span>app<span class="token punctuation">,</span>
                app_type <span class="token operator">=</span> eventData<span class="token punctuation">.</span>app_type<span class="token punctuation">,</span>
                operation <span class="token operator">=</span> eventData<span class="token punctuation">.</span>operation<span class="token punctuation">,</span>
                operation_type <span class="token operator">=</span> eventData<span class="token punctuation">.</span>operation_type<span class="token punctuation">,</span>
                integration_name <span class="token operator">=</span> eventData<span class="token punctuation">.</span>integration_name<span class="token punctuation">,</span>
                local_timezone<span class="token operator">=</span> eventData<span class="token punctuation">.</span>local_timezone<span class="token punctuation">,</span>
                timestamp <span class="token operator">=</span> eventData<span class="token punctuation">.</span>timestamp<span class="token punctuation">,</span>
                end_time <span class="token operator">=</span> eventData<span class="token punctuation">.</span>end_time<span class="token punctuation">,</span>
                timestamp_local <span class="token operator">=</span> eventData<span class="token punctuation">.</span>timestamp_local<span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This looks correct here?</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>    <span class="token keyword">def</span> <span class="token function">defineTimeslot</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> curr_time<span class="token punctuation">:</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">,</span> eventData<span class="token punctuation">:</span> EventData<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Timeslot<span class="token punctuation">:</span>

        <span class="token comment"># Calulcate the ts1 as the minute of the day. e.g. 00:00:00 -&gt; 0, 00:01:00 -&gt; 1, 00:02:00 -&gt; 2</span>
        timestamp_datetime<span class="token punctuation">:</span> datetime<span class="token punctuation">.</span>datetime <span class="token operator">=</span> curr_time
        timestamp_local_datetime<span class="token punctuation">:</span> datetime<span class="token punctuation">.</span>datetime <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>pytz<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span>eventData<span class="token punctuation">.</span>local_timezone<span class="token punctuation">)</span><span class="token punctuation">)</span>
  

        <span class="token comment"># Extract UTC Date Time Components</span>
        hour <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>hour
        minute <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>minute
        day <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>day
        month <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>month
        year <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>year

  
        timestamp_isocalendar <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        week <span class="token operator">=</span>  timestamp_isocalendar<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        weekday <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span>


        hour_local <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>hour
        minute_local <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>minute
        day_local <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>day
        month_local <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>month
        year_local <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>year
  

        timestamp_local_isocalendar <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        week_local <span class="token operator">=</span>  timestamp_local_isocalendar<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        weekday_local <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span>


        ts1 <span class="token operator">=</span> timestamp_datetime<span class="token punctuation">.</span>hour <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> timestamp_datetime<span class="token punctuation">.</span>minute
        ts5 <span class="token operator">=</span> ts1 <span class="token operator">//</span> <span class="token number">5</span>
        ts10 <span class="token operator">=</span> ts1 <span class="token operator">//</span> <span class="token number">10</span>
        ts15 <span class="token operator">=</span> ts1 <span class="token operator">//</span> <span class="token number">15</span> 

        tl1 <span class="token operator">=</span> timestamp_local_datetime<span class="token punctuation">.</span>hour <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> timestamp_local_datetime<span class="token punctuation">.</span>minute
        tl5 <span class="token operator">=</span> tl1 <span class="token operator">//</span> <span class="token number">5</span>
        tl10 <span class="token operator">=</span> tl1 <span class="token operator">//</span> <span class="token number">10</span>
        tl15 <span class="token operator">=</span> tl1 <span class="token operator">//</span> <span class="token number">15</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Look, so the timestamp local datetime is redefined wow! Which means that it is actually incorrect!!</p><h2 id="_15-friday" tabindex="-1"><a class="header-anchor" href="#_15-friday"><span>15 Friday</span></a></h2><h3 id="_15-todo" tabindex="-1"><a class="header-anchor" href="#_15-todo"><span>15.todo</span></a></h3><ul><li>[ ] 15.1 Continue Working On Chrome Extension</li><li>[ ] 15.2 Ensure that newest Chrome details work Prestine</li><li>[ ] 15.3 Would it be of service to offer a &quot;Code Review&quot; every end of the week?</li></ul><h3 id="_15-1-continue-working-on-chrome-extension" tabindex="-1"><a class="header-anchor" href="#_15-1-continue-working-on-chrome-extension"><span>15.1 Continue Working On Chrome Extension</span></a></h3><ul><li>[x] Refresh the System design of Chrome Extension to the current one.</li></ul><p>It seems that the latest documentation can be found in the following <a href="https://lucid.app/lucidchart/e68b9b43-3567-4cad-973f-59841167076d/edit?page=fIXUVjumr6Eu&amp;invitationId=inv_b33787b6-e58a-471a-a000-680093c7a60b#" target="_blank" rel="noopener noreferrer">lucid<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> chart</p><p>Fixed Chrome Connector:</p><p><img src="/docs/assets/Pasted image 20240315115553-CN7RTMyU.png" alt=""></p><p>Way more simple than before.</p><blockquote><p>Before was: more messy.</p></blockquote><ul><li>[ ] Let&#39;s see and check that all methods don&#39;t break the flow logic.</li></ul><p>Note the following:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>     <span class="token operator">*</span><span class="token operator">/</span>

    <span class="token keyword">async</span> <span class="token function">checkAndNavigateIfNewDomain</span><span class="token punctuation">(</span><span class="token parameter">current_domain_name<span class="token punctuation">,</span> old_record_domain</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>Constants<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Current Domain: &quot;</span> <span class="token operator">+</span> current_domain_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>Constants<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Previous Domain: &quot;</span> <span class="token operator">+</span> old_record_domain<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>old_record_domain <span class="token operator">!==</span> current_domain_name<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>Constants<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Navigated to a new domain: &#39;</span> <span class="token operator">+</span> current_domain_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wrapNewTabFocusLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">startNewFocusTabLog</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">isEventComplete</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>Constants<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Domain is the same&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can see that the <code>current</code> and <code>previous domain</code> is checked which is not needed on this model. Also they shouldn&#39;t be wrapped inside a single function. But run straight from the listeners (Can be simplified.)</p><ul><li>[ ] Update the latest specs for windows as well.</li></ul><h2 id="_16-saturday" tabindex="-1"><a class="header-anchor" href="#_16-saturday"><span>16 Saturday</span></a></h2><h2 id="_17-friday" tabindex="-1"><a class="header-anchor" href="#_17-friday"><span>17 Friday</span></a></h2></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: wangnelson2@gmail.com">NelsonWang</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/docs/assets/app-CZArcxI1.js" defer></script>
  </body>
</html>
